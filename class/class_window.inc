(import 'class/class_view.inc)

(defcvar 'window_border_size 4)

(def-bit)
	(bit 'window_drag_left)
	(bit 'window_drag_right)
	(bit 'window_drag_top)
	(bit 'window_drag_bottom)
(def-bit-end)

(def-class 'window 'view)
(def-method 'create 'class/window/create)
(def-method 'new 'class/window/new)
(def-method 'init 'class/window/init)
(def-method 'get_panel 'class/window/get_panel 'static '(r0) '(r1))
(def-method 'set_title 'class/window/set_title 'static '(r0 r1))
(def-method 'set_status 'class/window/set_status 'static '(r0 r1))

(def-method 'pref_size 'class/window/pref_size 'override)
(def-method 'layout 'class/window/layout 'override)
(def-method 'draw 'class/window/draw 'override)
(def-method 'mouse_down 'class/window/mouse_down 'override)
(def-method 'mouse_move 'class/window/mouse_move 'override)

(def-struct 'window 'view)
	(ptr 'window_border)
	(ptr 'window_title)
	(ptr 'window_status)
	(ptr 'window_flow)
	(ptr 'window_panel)
	(int 'window_offset_x)
	(int 'window_offset_y)
	(ulong 'window_drag_mode)
(def-struct-end)
