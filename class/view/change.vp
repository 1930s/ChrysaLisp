(import 'inc/func.inc)
(import 'class/class_view.inc)

(def-func 'class/view/change)
	;inputs
	;r0 = view object
	;r8 = new x
	;r9 = new y
	;r10 = new w
	;r11 = new h
	;trashes
	;all but r0, r4

	;save old info
	(vp-cpy-ir r0 view_w r12)
	(vp-cpy-ir r0 view_h r13)

	;set new info
	(f-call 'view 'set_bounds '(r0 r8 r9 r10 r11))

	;layout if changed size
	(vpif '(r10 == r12))
		(vpif '(r11 == r13))
			(vp-ret)
		(endif)
	(endif)
	v_jmp view, layout, {r0}

(def-func-end)
