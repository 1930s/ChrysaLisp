(import 'inc/func.inc)
(import 'class/class_view.inc)

(def-func 'class/view/dirty_all)
	;inputs
	;r0 = view object
	;trashes
	;all but r0, r4

	;iterate through views
	;dirty all
	(f-jmp 'view 'forward_tree '(r0, r0, $dirty_down_callback, $null_up_callback))

(vp-label 'dirty_down_callback)
	(f-call 'view 'dirty '(r0))
	(vp-cpy-rr r0 r1)
(vp-label 'null_up_callback)
	(vp-ret)

(def-func-end)
