(import 'inc/func.inc)
(import 'inc/font.inc)
(import 'class/class_button.inc)

(def-func 'class/button/draw)
	;inputs
	;r0 = button object
	;r1 = ctx object
	;trashes
	;all but r0, r4

	;draw panel
	(vp-cpy-cr button_border_size r3)
	(vp-cpy-ir r0 button_state r2)
	(vp-and-cr button_state_pressed r2)
	(vpif '(r2 != 0))
		(vp-mul-cr -1 r3)
	(endif)
	(f-jmp 'button 'draw_panel '(r0 r1 1 r3))

(def-func-end)
