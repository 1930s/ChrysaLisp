(import 'inc/func.inc)
(import 'inc/gui.inc)

(def-func 'gui/region_free)
	;inputs
	;r0 = region heap pointer
	;r1 = source region listhead pointer
	;trashes
	;r1-r3

	;run through source region list
	(loop-flist-forward r1 0 r1 r2)
		(vp-cpy-rr r1 r3)
		(ln-remove-fnode r1 r2)
		(hp-freecell r0 r3 r2)
	(loop-end)
	(vp-ret)

(def-func-end)
